<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js"><!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>WillowTree Name Game</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" href="/styles/main.css">
        <link rel="import" href="templates/dropdown.html">
        <script src="/scripts/vendor/modernizr.min.js"></script>
    </head>
    <body>
      <div id="dropdown-menu"></div>
      <h2 class="text-wrapper">Who is this?</h2>
      <p class="text-wrapper">You may either click the buttons or press the numbers 1-5 on your keyboard.</p>
      <p id="answer"></p>
      <div class="container">
        <div class="row">
          <div class="col-md-6">
              <img id="employee-pic" src="">
          </div>
          <div class="col-md-6 buttons" >
              <div>
                1. <button class="employee" id="employee-1" onclick="userGuess(this, window.startTime)"></button>
              </div>
              <div>

                2. <button class="employee" id="employee-2" onclick="userGuess(this, window.startTime)"></button>
              </div>
              <div>
                3. <button class="employee" id="employee-3" onclick="userGuess(this, window.startTime)"></button>
              </div>
              <div>
                4. <button class="employee" id="employee-4" onclick="userGuess(this, window.startTime)"></button>
              </div>
              <div>
                5. <button class="employee" id="employee-5" onclick="userGuess(this, window.startTime)"></button>
              </div>
          </div>
        </div>
        <div>
          <h3>Correct Guesses: <span id="correct-guess-nums"></span></h3>
          <h3>Incorrect Guesses: <span id="incorrect-guess-nums"></span></h3>
          <h3>Average amount of time per guess: <span id="time"></span> seconds</h3>
        </div>
      </div>
      <script>
        var link = document.querySelector('link[rel="import"]');
        var template = link.import.querySelector('template');
        var clone = document.importNode(template.content, true);
        document.querySelector('#dropdown-menu').appendChild(clone);
      </script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/scripts/vendor/jquery.min.js"><\/script>')</script>
        <script src="/scripts/main.js"></script>
        <script>
          renderReverse()
          var times = [];
        </script>
        <script>
          var correctGuesses = 0
          var incorrectGuesses = 0
          $(`#correct-guess-nums`).append(`${correctGuesses}`)
          $(`#incorrect-guess-nums`).append(`${incorrectGuesses}`)
        </script>
        <script id="keyboard-shortcuts">
          $(window).keypress(function(event){
            switch(event.which){
              case 49:
              var employee1 = document.getElementById('employee-1')
              userGuess(employee1, window.startTime)
              break;

              case 50:
              var employee2 = document.getElementById('employee-2')
              userGuess(employee2, window.startTime)
              break;

              case 51:
              var employee3 = document.getElementById('employee-3')
              userGuess(employee3, window.startTime)
              break;

              case 52:
              var employee4 = document.getElementById('employee-4')
              userGuess(employee4, window.startTime)
              break;

              case 53:
              var employee5 = document.getElementById('employee-5')
              userGuess(employee5, window.startTime)
              break;
            }

          })

        </script>
        <script>
          function userGuess(person, startTimeVar){
            var correct = document.getElementById('answer').innerHTML
            var name = person.innerHTML
            if (correct === name){
              var endTime = new Date()
              times.push(endTime - startTimeVar)
              $(`#${person.id}`).addClass('correct-button')
              correctGuesses++
              $(`#correct-guess-nums`).empty().append(`${correctGuesses}`)
              setTimeout(renderReverse, 3000)
            }
            else {
              $(`#${person.id}`).addClass('hidden')
              incorrectGuesses++
              $(`#incorrect-guess-nums`).empty().append(`${incorrectGuesses}`)
            }
          }
        </script>
      </div>
    </body>
</html>
