<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js"><!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>WillowTree Name Game</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="/styles/bootstrap.css">
        <link rel="stylesheet" href="/styles/main.css">
        <link rel="import" href="templates/dropdown.html">
        <script src="/scripts/vendor/modernizr.min.js"></script>
    </head>
    <body id="index-page">
      <div id="dropdown-menu"></div>
      <div class="text-wrapper">
        <h2>Who is <span id="question"></span>?</h2>
      </div>
      <div class="image-wrapper">
        <span id="employee-1" class="employee" onclick="userGuess(this)">
          <span id="overlay-1" class="hidden-overlay">
              <p id='employee-1-name' class='hidden'></p>
          </span>
            <img id='employee-1-pic' src="">
        </span>
        <span id="employee-2" class="employee" onclick="userGuess(this)">
          <span id="overlay-2" class="hidden-overlay">
              <p id='employee-2-name' class='hidden'></p>
          </span>
            <img id='employee-2-pic' src="">
        </span>
        <span id="employee-3" class="employee" onclick="userGuess(this)">
          <span id="overlay-3" class="hidden-overlay">
              <p id='employee-3-name' class='hidden'></p>
          </span>
            <img id='employee-3-pic' src="">
        </span>
        <span id="employee-4" class="employee" onclick="userGuess(this)">
          <span id="overlay-4" class="hidden-overlay">
              <p id='employee-4-name' class='hidden'></p>
          </span>
            <img id='employee-4-pic' src="">
        </span>
        <span id="employee-5" class="employee" onclick="userGuess(this)">
          <span id="overlay-5" class="hidden-overlay">
              <p id='employee-5-name' class='hidden'></p>
          </span>
            <img id='employee-5-pic' src="">
        </span>
      </div>
      <div>
        <h2>Correct Guesses: <span id="correct-guess-nums"></span></h2>
        <h2>Incorrect Guesses: <span id="incorrect-guess-nums"></span></h2>
      </div>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/scripts/vendor/jquery.min.js"><\/script>')</script>
        <script src="/scripts/main.js"></script>
        <script>
          var link = document.querySelector('link[rel="import"]');
          var template = link.import.querySelector('template');
          var clone = document.importNode(template.content, true);
          document.querySelector('#dropdown-menu').appendChild(clone);
        </script>
        <script>
          renderNewNames()
        </script>
        <script>
          var correctGuesses = 0
          var incorrectGuesses = 0
          $(`#correct-guess-nums`).append(`${correctGuesses}`)
          $(`#incorrect-guess-nums`).append(`${incorrectGuesses}`)
        </script>
        <script>
          function userGuess(person){
            var correct = document.getElementById('question').innerHTML
            var pictureElement = person.children[0]
            var nameElement = person.children[0].children[0]
            var name = nameElement.innerHTML

            if (correct === name){
              $(`#${pictureElement.id}`).addClass('correct-guess').removeClass('hidden-overlay')
              $(`#${nameElement.id}`).addClass('guessed-name-text').removeClass('hidden-name-text')
              correctGuesses++
              $(`#correct-guess-nums`).empty().append(`${correctGuesses}`)
              setTimeout(renderNewNames, 3000)
            }
            else {
              $(`#${pictureElement.id}`).addClass('incorrect-guess').removeClass('hidden-overlay')
              $(`#${nameElement.id}`).addClass('guessed-name-text').removeClass('hidden-name-text')
              incorrectGuesses++
              $(`#incorrect-guess-nums`).empty().append(`${incorrectGuesses}`)

            }
          }
      </script>
    </body>
</html>
